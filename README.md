# fastsql


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Install

``` sh
pip install fastsql
```

## How to use

``` python
from fastsql import *
from dataclasses import dataclass
```

First we instantiate our database using FastSQL’s Database class:

``` python
db = Database("sqlite:///:memory:")
```

We demonstrate fastsql’s features here using dataclasses-as-schema
inspired by FastHTML’s [adv_app
example](https://github.com/AnswerDotAI/fasthtml/blob/main/examples/adv_app.py).

``` python
@dataclass
class User:
    name:str
    pwd:str

@dataclass
class Todo:
    title:str
    name:str
    done:bool=False
    details:str=''
    id:int=None
```

Equipped with our schemas, let’s turn them into database tables.

``` python
users = db.create(User, pk='name')
todos = db.create(Todo, pk='id')
```

Let’s confirm the table design.

``` python
db.print_schema()
```

    Table: Todo
      - *id: INTEGER
      - title: VARCHAR
      - name: VARCHAR
      - done: BOOLEAN
      - details: VARCHAR
    Table: User
      - *name: VARCHAR
      - pwd: VARCHAR

Let’s create some dataclass objects representing users and todos.

``` python
u0 = User('jph','foo')
u1 = User('rlt','bar')
t0 = Todo('do it', 'jph')
```

Let’s convert these dataclass objects into database records. To do that
we insert them into their tables using the aply named `insert` method:

``` python
users.insert(u0)
users.insert(u1)
todos.insert(t0)
```

    Todo(title='do it', name='jph', done=False, details='', id=1)
